@page "/analyze"
@using ChartJs.Blazor.ChartJS.Common.Axes.Ticks
@using ChartJs.Blazor.ChartJS.RadarChart
@using ChartJs.Blazor.Charts

<h4>睡眠分析</h4>
<div class="row">
    <div class="col-12">
        <ChartJsRadarChart @ref="_radarChart" Config="@_config" Width="100" Height="100"/>
        </div>
</div>



@code {
    
    private RadarConfig _config;
    private ChartJsRadarChart _radarChart;
    
    protected override void OnInitialized()
    {
        _config = new RadarConfig
        {
            Options = new RadarOptions
            {
                Scale = new Scale
                {
                    Ticks = new LinearCartesianTicks
                    {
                        BeginAtZero = true
                    }
                }
            }
        };

        _config.Data.Labels.AddRange(new[] { "タンパク質(g)", "ビタミンB6(mg)", "ビタミンB12(mg)","鉄分(mg)", "食物繊維(g)", "亜鉛(mg)", "カルシウム(mg)" });
        <!-----
        60g, 1.4mg, 2.4mg, 7mg, 20g, 10mg, 700mg 
        ----->
        var dataset = new RadarDataset
        {
            Label = "推定必要摂取量(75歳以上男性)",
            BackgroundColor = "rgba(255,99,132,0.2)",
            BorderColor = "rgba(255,99,132,1)",
            PointBackgroundColor = "rgba(255,99,132,1)",
            PointBorderColor = "#fff",
            PointHoverBackgroundColor = "#fff",
            PointHoverBorderColor = "rgba(255,99,132,1)",
            LineTension = 0,
            Data = new List<double> { 60, 1.4, 2.4, 7, 20, 10, 700 }
        };
        var dataset2 = new RadarDataset
        {
            Label = "My Second dataset",
            BackgroundColor = "rgba(54,162,235,0.2)",
            BorderColor = "rgba(54,162,235,1)",
            PointBackgroundColor = "rgba(54,162,235,1)",
            PointBorderColor = "#fff",
            PointHoverBackgroundColor = "#fff",
            PointHoverBorderColor = "rgba(54,162,235,1)",
            LineTension = 0,
            Data = new List<double> { 10, 20, 30, 40, 50, 60, 70 }
        };
        
        _config.Data.Datasets.Add(dataset);
        _config.Data.Datasets.Add(dataset2);
    }

}