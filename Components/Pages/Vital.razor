@page "/vital"
<h1>バイタル</h1>
<!-----
    初回だけ
    身長
----->
<!-----
    頻度低い
----->
<p>体重</p>
<div class="row mb-3">
    <div class="input-group">
        <input type="text" class="form-control form-control-lg" id="taijuBox" placeholder="体重" @bind="weight"/>
        <label class="input-group-text">Kg</label>
    </div>
</div>

<!-----
    毎朝記録するやつ
----->
<p>就寝時間</p>
<div class="row mb-3">
    <div class="input-group">
        <select class="form-control form-control-lg" id="syuusinHour" @bind="gotobedh">
            <option value="" disabled selected>時</option>
            @for (int i = 0; i < 24; i++)
            {
                <option value="@i.ToString("00")">@i</option>
            }
        </select>
        <label class="input-group-text">時</label>
        <select class="form-control form-control-lg" id="syuusinMinute" @bind="gotobedm">
            <option value="" disabled selected>分</option>
            @for (int i = 0; i < 60; i += 5)
            {
                <option value="@i.ToString("00")">@i.ToString("00")</option>
            }
        </select>
        <label class="input-group-text">分</label>
    </div>
</div>

<p>起床時間</p>
<div class="row mb-3">
    <div class="input-group">
        <select class="form-control form-control-lg" id="kisyouHour" @bind="wakeuph" >
            <option value="" disabled selected>時</option>
            @for (int i = 0; i < 24; i++)
            {
                <option value="@i.ToString("00")">@i</option>
            }
        </select>
        <label class="input-group-text">時</label>
        <select class="form-control form-control-lg" id="kisyouMinute" @bind="wakeupm">
            <option value="" disabled selected>分</option>
            @for (int i = 0; i < 60; i += 5)
            {
                <option value="@i.ToString("00")">@i.ToString("00")</option>
            }
        </select>
        <label class="input-group-text">分</label>
    </div>
</div>

<!-----
    毎晩記録するやつ
----->
<p>歩数</p>
<div class="row mb-3">
    <div class="input-group">
        <input type="text" class="form-control form-control-lg" id="taijuBox" placeholder="歩数" @bind="steps" />
        <label class="input-group-text">歩</label>
    </div>
</div>

<p>食事の内容</p>
<div class="row mb-3">
    <div class="input-group">
        <textarea class="form-control form-control-lg" id="shokujiNaiyoBox" placeholder="食事の内容を入力してください" onfocus="scrollIntoView(this)"></textarea>
    </div>
</div>

<input type="button" class="btn btn-primary" value="Submit" @onclick="ResultSender"/>
<!-----
    サイズ調整
----->
<script>
    function scrollIntoView(element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
</script>


@code {
    string? weight;
    string? steps;
    string? wakeuph;
    string? wakeupm;
    string? gotobedh;
    string? gotobedm;

    private readonly HttpClient client = new HttpClient();

    public class VitalDataSets{
        public double weight { get; set; }
        public int steps { get; set; }
        public string? wakeup { get; set; }
        public string? gotobed { get; set; }
    }

    public void ResultSender() //送信
    {
        VitalDataSets vds = new VitalDataSets();
        double.TryParse(weight,out double weightd);
        int.TryParse(steps, out int stepi);
        vds.weight = weightd;
        vds.steps = stepi;
        vds.gotobed = gotobedh + ":" + gotobedm;
        vds.wakeup = wakeuph + ":" + wakeupm;

        Console.WriteLine("");
    }
}